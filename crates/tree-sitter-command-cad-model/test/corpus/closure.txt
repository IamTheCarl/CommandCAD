==================
Empty
==================

(,)[] -> std.None {} 

---

(source_file
  (expression
    (closure_definition
      (struct_definition)
      (closure_captured_variables)
      (path
        (identifier)
        (identifier))
      (expression
        (procedural_block)))))

==================
With argument
==================

(argument: std.types.UInt)[] -> std.None {} 

---

(source_file
  (expression
    (closure_definition
      (struct_definition
        (struct_member
          (identifier)
          (declaration_type
            (expression
              (path
                (identifier)
                (identifier)
                (identifier))))))
      (closure_captured_variables)
      (path
        (identifier)
        (identifier))
      (expression
        (procedural_block)))))

==================
Path for argument signature
==================

path.to.signature[] -> std.None {} 

---

(source_file
  (expression
    (closure_definition
      (path
        (identifier)
        (identifier)
        (identifier))
      (closure_captured_variables)
      (path
        (identifier)
        (identifier))
      (expression
        (procedural_block)))))

==================
Capture
==================

(,)[a, b, c] -> std.None {} 

---

(source_file
  (expression
    (closure_definition
      (struct_definition)
      (closure_captured_variables
        (identifier)
        (identifier)
        (identifier))
      (path
        (identifier)
        (identifier))
      (expression
        (procedural_block)))))

==================
Capture,
==================

(,)[a, b, c,] -> std.None {} 

---

(source_file
  (expression
    (closure_definition
      (struct_definition)
      (closure_captured_variables
        (identifier)
        (identifier)
        (identifier))
      (path
        (identifier)
        (identifier))
      (expression
        (procedural_block)))))

==================
With a statement
==================

(,)[] -> std.None {
  value = 5i;
} 

---

(source_file
  (expression
    (closure_definition
      (struct_definition)
      (closure_captured_variables)
      (path
        (identifier)
        (identifier))
      (expression
        (procedural_block
          (statement
            (assign
              (path
                  (identifier))
              (assignment_operator)
              (expression
                (signed_integer (integer (base_ten)))))))))))

==================
Call function
==================

value(value=value)

---

(source_file
  (expression
    (function_call
      (expression
        (path
          (identifier)))
      (dictionary_construction
        (dictionary_member_assignment
          (identifier)
          (expression
            (path
              (identifier))))))))

==================
Call no arguments
==================

value()

---

(source_file
  (expression
    (function_call
      (expression
        (path
          (identifier)))
      (dictionary_construction))))

==================
Call function deep in tree
==================

value.value(value=value)

---

(source_file
  (expression
    (function_call
      (expression
        (path
          (identifier)
          (identifier)))
      (dictionary_construction
        (dictionary_member_assignment
          (identifier)
          (expression
            (path
              (identifier))))))))

==================
Call method
==================

value:value(value=value)

---

(source_file
  (expression
    (method_call
      (expression
        (path
          (identifier)))
      (identifier)
      (dictionary_construction
        (dictionary_member_assignment
          (identifier)
          (expression
            (path
              (identifier))))))))

==================
Call method no arguments
==================

value:value()

---

(source_file
  (expression
    (method_call
      (expression
        (path
          (identifier)))
      (identifier)
      (dictionary_construction))))

==================
Call method deep in tree
==================

value.value:value(value=value)

---

(source_file
  (expression
    (method_call
      (expression
        (path
          (identifier)
          (identifier)))
      (identifier)
      (dictionary_construction
        (dictionary_member_assignment
          (identifier)
          (expression
            (path
              (identifier))))))))

==================
Closure as statement.
==================
{
  let types = std.types;
  (,)[types] -> std.types.Void {}
}

---

(source_file
  (expression
    (procedural_block
      (statement
        (let
          (path
            (identifier))
          (expression
            (path
              (identifier)
              (identifier)))))
      (statement
        (expression
          (closure_definition
            (struct_definition)
            (closure_captured_variables
              (identifier))
            (path
              (identifier)
              (identifier)
              (identifier))
            (expression
              (procedural_block))))))))

==================
Closure as statement with path as argument.
==================
{
  let types = std.types;
  types.Void[types] -> std.types.Void {}
}

---

(source_file
  (expression
    (procedural_block
      (statement
        (let
          (path
            (identifier))
          (expression
            (path
              (identifier)
              (identifier)))))
      (statement
        (expression
          (closure_definition
            (path
              (identifier)
              (identifier))
            (closure_captured_variables
              (identifier))
            (path
              (identifier)
              (identifier)
              (identifier))
            (expression
              (procedural_block))))))))

==================
Closure as assignment.
==================
{
  let types = std.types;
  let closure = (,)[types] -> std.types.Void {};

  closure
}

---

(source_file
  (expression
    (procedural_block
      (statement
        (let
          (path
            (identifier))
          (expression
            (path
              (identifier)
              (identifier)))))
      (statement
        (let
          (path
            (identifier))
          (expression
            (closure_definition
              (struct_definition)
              (closure_captured_variables
                (identifier))
              (path
                (identifier)
                (identifier)
                (identifier))
              (expression
                (procedural_block))))))
      (statement
        (expression
          (path
            (identifier)))))))
